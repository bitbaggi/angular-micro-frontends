{"version":3,"file":"angular-mfe-shared.js","sources":["ng://@angular-mfe/shared/shared.mfe.ts","ng://@angular-mfe/shared/angular-mfe-shared.ts"],"sourcesContent":["import {Injectable, Type} from '@angular/core';\r\nimport {ApplicationInsights} from \"@microsoft/applicationinsights-web\";\r\n\r\n@Injectable({providedIn: 'platform'})\r\nexport class SharedMfe {\r\n    private registeredMfes = new Map<string, Type<any>>();\r\n\r\n    public registerMfe(name: string, type: Type<any>) {\r\n        console.log(`Registering ${name}`);\r\n        this.registeredMfes.set(name, type);\r\n        console.log(`Total registered: ${this.registeredMfes.size}`)\r\n    }\r\n\r\n\r\n    // ADDED THESE LINES\r\n    private insights: ApplicationInsights;\r\n\r\n    public initInsights(config: { instrumentationKey: string }) {\r\n        this.insights = new ApplicationInsights({\r\n            config: {instrumentationKey: config.instrumentationKey}\r\n        });\r\n        this.insights.loadAppInsights();\r\n    }\r\n\r\n    setUserId = (userId: string) => {\r\n        this.insights.context.user.id = userId;\r\n        this.insights.setAuthenticatedUserContext(userId);\r\n    };\r\n\r\n    logEvent = (trackingEvent: TrackingEvent) => this.insights.trackEvent({\r\n        name: trackingEvent.trackingEvent,\r\n        properties: trackingEvent.properties\r\n    })\r\n    // !ADDED THESE LINES\r\n}\r\n\r\nexport class TrackingEvent implements TrackingEvent {\r\n    trackingEvent: string;\r\n    properties: { [propName: string]: string | number | Date | boolean };\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './shared.mfe';\n"],"names":[],"mappings":";;;;IAIa,SAAS,GAAtB,MAAa,SAAS;IAAtB;QACY,mBAAc,GAAG,IAAI,GAAG,EAAqB,CAAC;QAmBtD,cAAS,GAAG,CAAC,MAAc;YACvB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC;YACvC,IAAI,CAAC,QAAQ,CAAC,2BAA2B,CAAC,MAAM,CAAC,CAAC;SACrD,CAAC;QAEF,aAAQ,GAAG,CAAC,aAA4B,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;YAClE,IAAI,EAAE,aAAa,CAAC,aAAa;YACjC,UAAU,EAAE,aAAa,CAAC,UAAU;SACvC,CAAC,CAAA;KAEL;IA3BU,WAAW,CAAC,IAAY,EAAE,IAAe;QAC5C,OAAO,CAAC,GAAG,CAAC,eAAe,IAAI,EAAE,CAAC,CAAC;QACnC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,qBAAqB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC,CAAA;KAC/D;IAMM,YAAY,CAAC,MAAsC;QACtD,IAAI,CAAC,QAAQ,GAAG,IAAI,mBAAmB,CAAC;YACpC,MAAM,EAAE,EAAC,kBAAkB,EAAE,MAAM,CAAC,kBAAkB,EAAC;SAC1D,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;KACnC;EAYJ;;AA9BY,SAAS;IADrB,UAAU,CAAC,EAAC,UAAU,EAAE,UAAU,EAAC,CAAC;GACxB,SAAS,CA8BrB;MAEY,aAAa;;;ACpC1B;;GAEG;;;;"}